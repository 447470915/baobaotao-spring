<%@ page language="java" contentType="text/html; charset=utf-8"
	pageEncoding="utf-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="/basic-create-project/view/catalogIndex/style.css"
	rel="stylesheet" type="text/css" />
<script type="text/javaScript" src="../../js/jquery-3.3.1.min.js"></script>
<script type="text/javascript"
	src="/basic-create-project/view/catalogIndex/event.js"></script>
<script type="text/javascript"
	src="/basic-create-project/view/catalogIndex/tween.js"></script>

<title>分类界面</title>
</head>

<body>
	<div id="tabMainId" class="tabmain">
		<div id="outerWrap">

			<!--左侧目录区域 -->
			<div id="sliderParent"></div>
			<ul id="tabGroupId" class="tabGroup">
				<li class="tabOption selectedTab"><td>第一卷</td></li>
				<li class="tabOption">第二卷</li>
				<li class="tabOption">第三卷</li>
				<li class="tabOption">第四卷</li>
				<li class="tabOption">第五卷</li>
				<li class="tabOption">第六卷</li>
				<li class="tabOption">第七卷</li>
				<li class="tabOption">第八卷</li>
				<li class="tabOption">第九卷</li>
				<li class="tabOption">第十卷</li>
				<li class="tabOption">第十一卷</li>
				<li class="tabOption">第十二卷</li>
				<li class="tabOption">第十三卷</li>
				<li class="tabOption">第十四卷</li>
				<li class="tabOption">第十五卷</li>
				<li class="tabOption">第十六卷</li>
				<li class="tabOption">第十七卷</li>
				<li class="tabOption">第十八卷</li>
			</ul>

			<!--右侧内容区域  -->
			<div id="rightContainer">
				<div id="content">

					<div class="tabContent selectedContent">
						<h3>第一卷</h3>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第一节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第二节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第三节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
						<dt>
								<span class="high"><font font-size="30px">第四节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第五节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
					</div>

					<div class="tabContent">
						<h3>第二卷</h3>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第一节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第二节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第三节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
						<dt>
								<span class="high"><font font-size="30px">第四节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第五节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
					</div>

					<div class="tabContent">
						<h3>第三卷</h3>
						<dl>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第一节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第二节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第三节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
						<dt>
								<span class="high"><font font-size="30px">第四节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第五节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
					</div>

					<div class="tabContent">
						<h3>第四卷</h3>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第一节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第二节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第三节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
						<dt>
								<span class="high"><font font-size="30px">第四节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第五节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
					</div>

					<div class="tabContent">
						<h3>第五卷</h3>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第一节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第二节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第三节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
						<dt>
								<span class="high"><font font-size="30px">第四节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第五节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
					</div>

					<div class="tabContent">
						<h3>第六卷</h3>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第一节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第二节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第三节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
						<dt>
								<span class="high"><font font-size="30px">第四节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第五节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
					</div>

					<div class="tabContent">
						<h3>第七卷</h3>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第一节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第二节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第三节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
						<dt>
								<span class="high"><font font-size="30px">第四节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
						<dl>
							<dt>
								<span class="high"><font font-size="30px">第五节：</font></span>
							</dt>
							<dd>
								<font>带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充带填充</font>
							</dd>
						</dl>
					</div>

					<div class="tabContent">
						<h3>第八卷</h3>
						<br><br><br><br><br><br><br><br><br><br><br><br><br>
						<br><br><br><br><br><br><br><br><br><br><br><br><br>
						<br><br><br><br><br><br><br><br><br><br><br><br><br>
						<br><br><br><br><br><br><br><br><br><br><br><br><br>
						<br><br><br><br><br><br><br><br><br><br><br><br><br>
					</div>

					<div class="tabContent">
						<h3>第九卷</h3>
						<center>
						<img id="kind" src="../../images/content/1.jpg"
									style="width: 100%; max-height: 100%" />
						</center>
					</div>
					<div class="tabContent">
						<h3>第十卷</h3>
						<center>
						<img id="kind" src="../../images/content/2.jpg"
									style="width: 100%; max-height: 100%" />
						</center>
					</div>
					<div class="tabContent">
						<h3>第十一卷</h3>
												<center>
						<img id="kind" src="../../images/content/3.jpg"
									style="width: 100%; max-height: 100%" />
						</center>
					</div>
					<div class="tabContent">
						<h3>第十二卷</h3>
						<center>
						<img id="kind" src="../../images/content/4.jpg"
									style="width: 100%; max-height: 100%" />
						</center>
					</div>
					<div class="tabContent">
						<h3>第十三卷</h3>
						<center>
						<img id="kind" src="../../images/content/5.jpg"
									style="width: 100%; max-height: 100%" />
						</center>
					</div>
					<div class="tabContent">
						<h3>第十四卷</h3>
						<center>
						<img id="kind" src="../../images/content/6.jpg"
									style="width: 100%; max-height: 100%" />
						</center>
					</div>
					<div class="tabContent">
						<h3>第十五卷</h3>
						<center>
						<img id="kind" src="../../images/content/7.jpg"
									style="width: 100%; max-height: 100%" />
						</center>
					</div>
					<div class="tabContent">
						<h3>第十六卷</h3>
						<center>
						<img id="kind" src="../../images/content/8.jpg"
									style="width: 100%; max-height: 100%" />
						</center>
					</div>
					<div class="tabContent">
						<h3>第十七卷</h3>
						<center>
						<img id="kind" src="../../images/content/9.jpg"
									style="width: 100%; max-height: 100%" />
						</center>
					</div>
					<div class="tabContent">
						<h3>第十八卷</h3>
						<center>
						<img id="kind" src="../../images/content/10.jpg"
									style="width: 100%; max-height: 100%" />
						</center>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script type="text/javascript">
		//计算div容器的高度
		var w = document.documentElement.clientWidth;//可见区域宽度
		var h = document.documentElement.clientHeight;//可见区域高度
		document.getElementById("tabMainId").style.height = h + "px";
		document.getElementById("tabGroupId").style.height = h + "px";
		document.getElementById("rightContainer").style.height = h + "px";

		var container = document.getElementById('rightContainer');
		var content = document.getElementById('content');
		var oDivs = DOM.children(content, "div");//获取content下的所有div队列
		oDivs[0].st = 0;//st是什么鬼
		for (var i = 1; i < oDivs.length; i++) {
			oDivs[i].st = oDivs[i].offsetTop;
		}
		var oLis = DOM.getElesByClass("tabOption");//获取tabOption类的所有childnodes
		var flag = 0;
		var upFlag = oLis.length;
		var startX = 0;
		var startY = 0;

		(function() {//浏览器事件监控程序
			container.addEventListener('touchstart', sn, false);
			container.addEventListener('touchend', fn, false);

			slider = document.createElement('span');
			slider.id = "slider";

			slider.style.height = container.offsetHeight
					* (container.offsetHeight / content.offsetHeight) + "px";//计算下拉条的长度
			sliderParent.appendChild(slider);//放到父slider里
			on(slider, "mousedown", down);

			function sn(e) {
				//当屏幕有多个touch或者页面被缩放过，就不执行move操作
				if (event.targetTouches.length > 1 || event.scale
						&& event.scale !== 1)
					return;
				var touch = event.targetTouches[0];
				startX = touch.pageX;
				startY = touch.pageY;
				return false;
			};

			function fn(e) {

				//这是在计算什么东西
				
				slider.style.top = container.scrollTop * container.offsetHeight
						/ content.offsetHeight + "px";

				slider.offsetTop
				 * (content.offsetHeight / container.offsetHeight);

				var st = container.scrollTop;
				if (st > this.preSt) {
					for (var j = 0; j < oLis.length; j++) {
						if (st < oDivs[j].st)
							break;
					}
					if (oLis[j - 2] && this.preLi !== j) {
						if ((j) > (flag + 1)) {
							DOM.removeClass(oLis[j - 2], "selectedTab");//在计算左侧目录的选择项

							for (var k = 0; k < oLis.length; k++) {
								DOM.removeClass(oLis[k], "selectedTab");
							}

							DOM.addClass(oLis[j - 1], "selectedTab");
						}
					}
					flag = j - 1;
				} else if (st < this.preSt) {
					for (var j = oLis.length - 1; j >= 0; j--) {
						if (st > oDivs[j].st)
							break;
					}
					if (oLis[j + 2] && this.preLi !== j) {
						if (flag === undefined)
							return;
						if ((j) < (flag)) {
							for (var k = 0; k < oLis.length; k++) {
								DOM.removeClass(oLis[k], "selectedTab");
							}
							;
							DOM.addClass(oLis[j + 1], "selectedTab");
							upFlag = j + 1;
						}
					}
				}
				this.preSt = st;
				if (e.preventDefault)
					e.preventDefault();
				return false;
			}
			;

			var tabPannel1 = document.getElementById("outerWrap");
			var oLis = DOM.children(DOM.children(tabPannel1, "ul")[0], "li");
			for (var i = 0; i < oLis.length; i++) {
				oLis[i].onclick = changeTab;
			}
			;
			function changeTab() {
				var index = DOM.getIndex(this);
				for (var i = 0; i < oLis.length; i++) {
					DOM.removeClass(oLis[i], "selectedTab");
				}
				DOM.addClass(this, "selectedTab");
				animate(container, {
					scrollTop : oDivs[index].st

				}, 500, 1);
				var t = oDivs[index].st * container.offsetHeight
						/ content.offsetHeight;
				animate(slider, {
					top : t
				}, 50000, 4);
			}
		})();
	</script>

</body>
</html>
